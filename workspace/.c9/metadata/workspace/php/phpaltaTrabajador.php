{"filter":false,"title":"phpaltaTrabajador.php","tooltip":"/php/phpaltaTrabajador.php","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":22,"column":1},"end":{"row":22,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"da5c163c463957de0e9e9a31d27a8af40125fc29","undoManager":{"mark":5,"position":5,"stack":[[{"start":{"row":0,"column":0},"end":{"row":26,"column":1},"action":"insert","lines":["<?php ","require '../clases/AutoCarga.php';","$bd= new DataBase();","$gestor= new ManageUsuario($bd);","$email=Request::post('email');","$alias=Request::post('alias');","$contrasena=Request::post('contrasena');","$contrasenaC=sha1($contrasena.Constant::SEMILLA);","$trabajador=Request::post('trabajador');","$fechaAlta=date('Y-m-d');","$user=$gestor->get($email);","$user2=$gestor->getByAlias($alias);","if($user2==''){","    if($user==''){","        if($trabajador=='si'){","            $usuario=new Usuario($email,$contrasenaC,$alias,$fechaAlta,1,0,1);","        }else{","            $usuario=new Usuario($email,$contrasenaC,$alias,$fechaAlta,1,0,0);","        }","        $gestor->insert($usuario);","        header(\"Location:insertado.php\");","    }else{","       header(\"Location:noInsertado.php?error=email\"); ","    }","}else{","    header(\"Location:noInsertado.php?error=alias\");","}"],"id":1}],[{"start":{"row":14,"column":0},"end":{"row":16,"column":14},"action":"remove","lines":["        if($trabajador=='si'){","            $usuario=new Usuario($email,$contrasenaC,$alias,$fechaAlta,1,0,1);","        }else{"],"id":2}],[{"start":{"row":16,"column":0},"end":{"row":16,"column":9},"action":"remove","lines":["        }"],"id":3}],[{"start":{"row":15,"column":78},"end":{"row":16,"column":0},"action":"remove","lines":["",""],"id":4}],[{"start":{"row":15,"column":8},"end":{"row":15,"column":12},"action":"remove","lines":["    "],"id":5}],[{"start":{"row":13,"column":18},"end":{"row":14,"column":0},"action":"remove","lines":["",""],"id":6}]]},"timestamp":1453543585000}